---
name: PE Engineer Agent Implementation
status: open
created: 2025-09-22T07:13:13Z
updated: 2025-09-22T07:29:37Z
github: https://github.com/kongsiyu/prompt-sphere/issues/7
depends_on: [6]
parallel: true
conflicts_with: []
---

# PE Engineer Agent Implementation

## Description

Implement LangChain agent for Prompt Engineering role using Qwen models. This agent handles natural language parsing, dynamic form generation, and prompt optimization to assist users in creating high-quality prompts.

## Acceptance Criteria

- [ ] PE Engineer agent class inheriting from BaseAgent
- [ ] Natural language processing for user requirements parsing
- [ ] Dynamic form generation based on parsed requirements
- [ ] Prompt creation and optimization capabilities
- [ ] Integration with Qwen models via DashScope API
- [ ] Structured output formatting for prompts
- [ ] Error handling for invalid inputs
- [ ] Comprehensive unit tests covering all functionality

## Technical Details

### Core Capabilities
- **NLP Parsing**: Extract intent, context, and requirements from user input
- **Form Generation**: Create dynamic forms based on identified prompt patterns
- **Prompt Optimization**: Apply best practices and templates for prompt improvement
- **Template Management**: Maintain library of proven prompt templates

### Key Methods
```python
class PEEngineerAgent(BaseAgent):
    async def parse_requirements(self, user_input: str) -> RequirementsParsed
    async def generate_form(self, requirements: RequirementsParsed) -> DynamicForm
    async def create_prompt(self, form_data: dict) -> OptimizedPrompt
    async def optimize_prompt(self, prompt: str) -> OptimizedPrompt
```

### File Structure
```
src/
├── agents/
│   ├── pe_engineer/
│   │   ├── PEEngineerAgent.py
│   │   ├── RequirementsParser.py
│   │   ├── FormGenerator.py
│   │   ├── PromptOptimizer.py
│   │   └── templates/
│   │       └── prompt_templates.json
```

## Size and Estimation

- **Size**: L (Large)
- **Estimated Hours**: 24
- **Parallel**: true (can work alongside PEQA agent)

## Dependencies

- **Depends on**: [6]
  - 6: LangChain framework and base agent architecture

## Notes

This agent is the core of the prompt engineering workflow. It should be designed to handle various prompt types and domains while maintaining consistency in output quality. The agent should learn from user feedback to improve its recommendations over time.
